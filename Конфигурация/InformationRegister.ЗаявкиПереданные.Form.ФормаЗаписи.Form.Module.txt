
&НаКлиенте
Процедура ВвестиСобытие(Команда)
	ПарЗаполнения = новый структура;
	ПарЗаполнения.Вставить("ДатаЗаявки" , Запись.Дата);
	ПарЗаполнения.Вставить("НомерЗаявки", Запись.Номер);
	ПарЗаполнения.Вставить("Контрагент" , Запись.Контрагент);
	ОткрытьФорму("РегистрСведений.События.ФормаЗаписи", ПарЗаполнения); 
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ТекстЗаявки	= Вспомогательный.ПолучитьШапкуHTMLФайла() + 
	 Запись.Заявка + 
	 Вспомогательный.ПолучитьПодвалHTMLФайла();
	ТекстПроезд	= Вспомогательный.ПолучитьШапкуHTMLФайла() + 
	 Вспомогательный.ПолучитьСтрокуHTMLКонтактнойИнформации(Запись) + 
	 Вспомогательный.ПолучитьПодвалHTMLФайла();
КонецПроцедуры


&НаКлиенте
Процедура КонтактнаяИнформацияПриНажатии(Элемент, ДанныеСобытия, СтандартнаяОбработка)
	СтандартнаяОбработка = ложь;
	стрСсылка = ДанныеСобытия.href;
	#Если МобильноеПриложениеКлиент тогда
		Если Найти (стрСсылка,"geo:")>0 тогда
			стрКоорд = Гео.ПолучитьКоординатыПоАдресу(стрСсылка);
			Если стрКоорд<>ложь тогда
				ЗапуститьПриложение("geo:"+стрКоорд);
			иначе
				Сообщить ("Не удалось определить координаты адреса. Проверьте интернет подключение.",СтатусСообщения.ОченьВажное);
			КонецЕсли;
		КонецЕсли;
		Если Найти (стрСсылка,"tel:")>0 тогда
			СредстваТелефонии.НабратьНомер(СтрЗаменить (стрСсылка,"tel:",""), ложь);
		КонецЕсли;
	#иначе
		Сообщить (""+стрСсылка);
	#КонецЕсли
КонецПроцедуры


&НаКлиенте
Процедура ВремяИсполненияПриИзменении(Элемент)
	// Вставить содержимое обработчика.
КонецПроцедуры

