
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Параметры.Свойство ("НомерНЗ") тогда
		Запись.НомерНЗ = Параметры.НомерНЗ;
	КонецЕсли;
	
	Если Параметры.Свойство ("ДатаНЗ") тогда
		Запись.ДатаНЗ = Параметры.ДатаНЗ;
	КонецЕсли;
	
	Если Параметры.Свойство ("НомерЗаявки") тогда
		Запись.НомерЗаявки = Параметры.НомерЗаявки;
	КонецЕсли;
	
	Если Параметры.Свойство ("ДатаЗаявки") тогда
		Запись.ДатаЗаявки = Параметры.ДатаЗаявки;
	КонецЕсли;
	
	//Установим параметры запроса динамического списка
	стрПараметры = СтрокиНЗ.Параметры;
	стрПараметры.УстановитьЗначениеПараметра("ДатаНЗ" , Запись.ДатаНЗ);
	стрПараметры.УстановитьЗначениеПараметра("НомерНЗ", Запись.НомерНЗ);
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	Заголовок = "НЗ №"+Запись.НомерНЗ+" от "+Формат (Запись.ДатаНЗ,"ДФ=dd.MM.yy");
КонецПроцедуры

&НаКлиенте
Процедура СтрокиНЗВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	стрПараметры = Новый Структура ("ДатаНЗ, НомерНЗ, Ключ", Запись.ДатаНЗ, Запись.НомерНЗ, ВыбраннаяСтрока);
	ОткрытьФорму ("РегистрСведений.СтрокиНЗ.ФормаЗаписи", стрПараметры);
	СтандартнаяОбработка = ложь;
КонецПроцедуры

&НаКлиенте
Процедура Создать(Команда)
	стрПараметры = Новый Структура ("ДатаНЗ, НомерНЗ", Запись.ДатаНЗ, Запись.НомерНЗ);
	ОткрытьФорму ("РегистрСведений.СтрокиНЗ.ФормаЗаписи", стрПараметры);
КонецПроцедуры
