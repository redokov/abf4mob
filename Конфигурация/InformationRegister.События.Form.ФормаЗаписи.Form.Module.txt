&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	//Вставить содержимое обработчика
	эл = ЭтаФорма.Запись;
	Если Параметры.Свойство("ДатаЗаявки") тогда
		эл.ДатаЗаявки 	= Параметры.ДатаЗаявки;
		эл.Период 		= ТекущаяДата();
	КонецЕсли;
	
	Если Параметры.Свойство("НомерЗаявки") тогда
		эл.НомерЗаявки 	= Параметры.НомерЗаявки;
	КонецЕсли;
	
	Если Параметры.Свойство("Контрагент") тогда
		эл.Контрагент 	= Параметры.Контрагент;
	КонецЕсли;
	
КонецПроцедуры


&НаКлиенте
Процедура ПриОткрытии(Отказ)
	эл = ЭтаФорма.Элементы;
	фл = ЭтаФорма.Запись.ВыездВнедренца;
	эл.стрДоговоренности.Видимость 	= фл;
	эл.стрЗадачиОП.Видимость 		= фл;
	эл.стрПлан2.Видимость 			= фл;
КонецПроцедуры


&НаКлиенте
Процедура ЗаявкаОтработана(Команда)
	эл 				= ЭтаФорма.Элементы;
	фл 				= Не ЭтаФорма.Запись.ВыездВнедренца;
	стрЗаголовок 	= ?(фл,"Заявка отработана: да","Заявка отработана: нет");
	
	эл.стрДоговоренности.Видимость 	= фл;
	эл.стрЗадачиОП.Видимость 		= фл;
	эл.стрПлан2.Видимость 			= фл;
	
	эл.ФормаЗаявкаОтработана.Заголовок 	= стрЗаголовок;
	ЭтаФорма.Запись.ВыездВнедренца 		= фл;
КонецПроцедуры


&НаКлиенте
Процедура грЗаписьПриСменеСтраницы(Элемент, ТекущаяСтраница)
	Если ТекущаяСтраница.Имя = "стрДоговоренности" тогда
		ЭтаФорма.ТекущийЭлемент = Элементы.Договоренности;
	ИначеЕсли ТекущаяСтраница.Имя = "стрПлан2" тогда
		ЭтаФорма.ТекущийЭлемент = Элементы.ДоговоренностиДата;
	ИначеЕсли ТекущаяСтраница.Имя = "стрЗадачиОП" тогда
		ЭтаФорма.ТекущийЭлемент = Элементы.ЗадачиОтделуПродаж;
	ИначеЕсли ТекущаяСтраница.Имя = "стрЧтоСделано" тогда
		ЭтаФорма.ТекущийЭлемент = Элементы.ЧтоСделано;
	КонецЕсли;
	
КонецПроцедуры

